<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PA_lib:  Fichier source de PA_3D.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Généré par Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Page&nbsp;principale</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li id="current"><a href="files.html"><span>Fichiers</span></a></li>
    <li><a href="dirs.html"><span>Répertoires</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" callpadding="0" border="0">
          <tr>
            <td><label>&nbsp;Rechercher&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
    <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_C_3A_2FdevkitPro_2F.html">devkitPro</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_C_3A_2FdevkitPro_2FPAlib_2F.html">PAlib</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_C_3A_2FdevkitPro_2FPAlib_2Finclude_2F.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_C_3A_2FdevkitPro_2FPAlib_2Finclude_2FNDS_2F.html">NDS</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_C_3A_2FdevkitPro_2FPAlib_2Finclude_2FNDS_2Farm9_2F.html">arm9</a></div>
<h1>PA_3D.h</h1><a href="_p_a__3_d_8h.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _PA_3D</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _PA_3D</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#include &lt;nds.h&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;malloc.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;nds/arm9/image.h&gt;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="keyword">extern</span> <span class="keyword">const</span> u8 PAlib[];
<a name="l00009"></a>00009 <span class="keyword">extern</span> <span class="keyword">const</span> u32 PAlib_size[];
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#define texPCX 1</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span><span class="preprocessor">#define texBIN 2</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="keyword">extern</span> <span class="keywordtype">int</span> textureID;
<a name="l00022"></a>00022 <span class="keyword">extern</span> <span class="keywordtype">float</span> angle3dX, angle3dY;
<a name="l00023"></a>00023 <span class="keyword">extern</span> <span class="keywordtype">float</span> viseeX, viseeY, viseeZ;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 
<a name="l00043"></a>00043 <span class="keywordtype">void</span> <a class="code" href="group___d.html#gcd4d105cfe8eb74bcfae52240a69e2c9">PA_Init3D</a>(<span class="keywordtype">void</span>);
<a name="l00049"></a>00049 <span class="keywordtype">void</span> <a class="code" href="group___d.html#ga9d00abc5f56aed461231351421a05cc">PA_LoadSplash3D</a>(<span class="keywordtype">void</span>);
<a name="l00074"></a>00074 <span class="keywordtype">void</span> <a class="code" href="group___d.html#g5bbe6f009b857d4e274ef2e6d807e7d7">PA_Init3DDrawing</a>(<span class="keywordtype">float</span> x1, <span class="keywordtype">float</span> y1, <span class="keywordtype">float</span> z1, <span class="keywordtype">float</span> x2, <span class="keywordtype">float</span> y2, <span class="keywordtype">float</span> z2);
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 
<a name="l00113"></a>00113 <span class="keywordtype">void</span> <a class="code" href="group___d.html#g78c39578c782fb2c5af0e1f7be3e1ad2">PA_glulookat</a>(<span class="keywordtype">float</span> eyex, <span class="keywordtype">float</span> eyey, <span class="keywordtype">float</span> eyez, <span class="keywordtype">float</span> lookAtx, <span class="keywordtype">float</span> lookAty, <span class="keywordtype">float</span> lookAtz, <span class="keywordtype">float</span> upx, <span class="keywordtype">float</span> upy, <span class="keywordtype">float</span> upz);
<a name="l00120"></a>00120 <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> PA_image8to16(sImage* img)
<a name="l00121"></a>00121  {
<a name="l00122"></a>00122         <span class="keywordtype">int</span> i;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         u16* temp = (u16*)malloc(img-&gt;height*img-&gt;width*2);
<a name="l00125"></a>00125         
<a name="l00126"></a>00126         <span class="keywordflow">for</span>(i = 0; i &lt; img-&gt;height * img-&gt;width; i++)
<a name="l00127"></a>00127                temp[i] = img-&gt;palette[img-&gt;data8[i]] | (1&lt;&lt;15);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129         img-&gt;data16 = temp;
<a name="l00130"></a>00130  }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="keywordtype">void</span> <a class="code" href="group___d.html#gbcdd1b299a7438e4731a09ffb13a85a4">PA_VueKeys</a>(<span class="keywordtype">void</span>);
<a name="l00149"></a><a class="code" href="group___d.html#g5a36e03fec38e901c68a7ee391e8c7fc">00149</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#g5a36e03fec38e901c68a7ee391e8c7fc">PA_LoadTexture</a>(<span class="keywordtype">int</span> numtexture, u8* nomtexture, <span class="keywordtype">int</span> mode){
<a name="l00150"></a>00150 <span class="keywordflow">if</span>(mode == texBIN){
<a name="l00151"></a>00151 glBindTexture(0, numtexture);
<a name="l00152"></a>00152 glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_128 , TEXTURE_SIZE_128, 0,TEXGEN_TEXCOORD, (u8*)nomtexture);
<a name="l00153"></a>00153 }
<a name="l00154"></a>00154 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(mode == texPCX){
<a name="l00155"></a>00155 sImage pcx;
<a name="l00156"></a>00156 loadPCX((u8*)nomtexture, &amp;pcx);
<a name="l00157"></a>00157 PA_image8to16(&amp;pcx);
<a name="l00158"></a>00158 glBindTexture(0, numtexture);
<a name="l00159"></a>00159 glTexImage2D(0, 0, GL_RGB, TEXTURE_SIZE_128 , TEXTURE_SIZE_128, 0, TEXGEN_TEXCOORD, pcx.data8);
<a name="l00160"></a>00160 }
<a name="l00161"></a>00161 }
<a name="l00170"></a><a class="code" href="group___d.html#ge56defd3e05b1b62d21878f97b8460f3">00170</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#ge56defd3e05b1b62d21878f97b8460f3">PA_Texture</a>(<span class="keywordtype">int</span> numtexture){
<a name="l00171"></a>00171 glBindTexture(0, numtexture);
<a name="l00172"></a>00172 }
<a name="l00214"></a>00214 <span class="keywordtype">void</span> <a class="code" href="group___d.html#ge933b489a5e89960a835bf8320e856aa">PA_3DBox</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keywordtype">float</span> longueur, <span class="keywordtype">float</span> largeur, <span class="keywordtype">float</span> hauteur,<span class="keywordtype">float</span> rotatex, <span class="keywordtype">float</span> rotatey, <span class="keywordtype">float</span> rotatez, uint8 red, uint8 green, uint8 blue);
<a name="l00256"></a>00256 <span class="keywordtype">void</span> <a class="code" href="group___d.html#gabe6160107bcbe8a77b5de0e27ff856e">PA_3DBoxTexture</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keywordtype">float</span> longueur, <span class="keywordtype">float</span> largeur, <span class="keywordtype">float</span> hauteur,<span class="keywordtype">float</span> rotatex, <span class="keywordtype">float</span> rotatey, <span class="keywordtype">float</span> rotatez,uint8 red, uint8 green, uint8 blue);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00274"></a><a class="code" href="group___d.html#g85dc8242f0ff6099d799cf942ee38055">00274</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#g85dc8242f0ff6099d799cf942ee38055">PA_Rotate3D</a>(<span class="keywordtype">float</span> x,<span class="keywordtype">float</span> y,<span class="keywordtype">float</span> z){
<a name="l00275"></a>00275        glRotateX(x);
<a name="l00276"></a>00276     glRotateY(y);
<a name="l00277"></a>00277        glRotateZ(z);
<a name="l00278"></a>00278 }
<a name="l00293"></a><a class="code" href="group___d.html#gf31a90c1cd0778cc27f9effc242931ab">00293</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#gf31a90c1cd0778cc27f9effc242931ab">PA_Translate3D</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z){
<a name="l00294"></a>00294 glTranslate3f32(floatof32(x),floatof32(y),floatof32(z));
<a name="l00295"></a>00295 }
<a name="l00310"></a><a class="code" href="group___d.html#g380e469bfb7c5626ab32677d9263848f">00310</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#g380e469bfb7c5626ab32677d9263848f">PA_Scale3D</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z){
<a name="l00311"></a>00311 MATRIX_SCALE = floatof32(x);
<a name="l00312"></a>00312 MATRIX_SCALE = floatof32(y);
<a name="l00313"></a>00313 MATRIX_SCALE = floatof32(z);
<a name="l00314"></a>00314 }
<a name="l00329"></a><a class="code" href="group___d.html#gd6722a97999c06b3d23ee220f4f0c594">00329</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#gd6722a97999c06b3d23ee220f4f0c594">PA_Vertex3D</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z){
<a name="l00330"></a>00330 glVertex3v16(floatov16(x),floatov16(y),floatov16(z));
<a name="l00331"></a>00331 }
<a name="l00337"></a><a class="code" href="group___d.html#gedc6552383289d6f610ccdbe88c290d3">00337</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#gedc6552383289d6f610ccdbe88c290d3">PA_3Dto2D</a>(){
<a name="l00338"></a>00338 MATRIX_IDENTITY = 0;
<a name="l00339"></a>00339 }
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 
<a name="l00353"></a><a class="code" href="group___d.html#g1fe1ac2959d6873a2d7c8fabd5f24af5">00353</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#g1fe1ac2959d6873a2d7c8fabd5f24af5">PA_Vertex2D</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y){
<a name="l00354"></a>00354        <span class="keywordtype">float</span> x1 = (float)((x*0.36)/256)-0.18;
<a name="l00355"></a>00355        <span class="keywordtype">float</span> y1 = (float)((y*0.28)/192)-0.14;
<a name="l00356"></a>00356        glVertex3v16(floatov16(x1),floatov16(y1),floatov16(-0.2));
<a name="l00357"></a>00357 }
<a name="l00369"></a><a class="code" href="group___d.html#g8ea3eed2892ca1f38302de0b1c8ebf44">00369</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___d.html#g8ea3eed2892ca1f38302de0b1c8ebf44">PA_TexCoord</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y){
<a name="l00370"></a>00370 glTexCoord1i(TEXTURE_PACK(intot16((<span class="keywordtype">int</span>)x),intot16((<span class="keywordtype">int</span>)y)));
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 
<a name="l00374"></a>00374  <span class="comment">// end of 3D</span>
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 
<a name="l00378"></a>00378 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Généré le Tue Oct 18 13:31:44 2005 pour PA_lib par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
