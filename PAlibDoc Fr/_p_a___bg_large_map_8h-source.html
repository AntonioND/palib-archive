<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PAlib:  Fichier source de PA_BgLargeMap.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Généré par Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Page&nbsp;principale</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">Liste&nbsp;des&nbsp;fichiers</a> | <a class="qindex" href="globals.html">Portée&nbsp;globale</a>  | <span class="search">Rechercher&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>PA_BgLargeMap.h</h1><a href="_p_a___bg_large_map_8h.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _PA_BGLARGEMAP</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _PA_BGLARGEMAP</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="preprocessor">#include "<a class="code" href="_p_a___bg_tiles_8h.html">PA_BgTiles.h</a>"</span>
00006 
00007 <span class="comment">// Tile engine functions, do not use !</span>
00008 <span class="preprocessor">#define PA_TileNumber(x, y) (PA_Modulo((x)+1, 36)+(PA_Modulo((y)+1, 28)*36)) // Used by the tile engine</span>
00009 <span class="preprocessor"></span>
00010 
00011 <span class="preprocessor">#define PA_LoadTileEngine(screen, bg_select, bg_tiles) {\</span>
00012 <span class="preprocessor">PA_DeleteBg(screen, bg_select);\</span>
00013 <span class="preprocessor">PA_LoadBgTilesEx(screen, bg_select, (void*)Blank, (1008&lt;&lt;5));\</span>
00014 <span class="preprocessor">PA_BgInfo[screen][bg_select].Tiles = (void*)bg_tiles;\</span>
00015 <span class="preprocessor">PA_LoadBgMap(screen, bg_select, Blank, BG_512X256); \</span>
00016 <span class="preprocessor">PA_InitBg(screen, bg_select, BG_512X256, 0, 1);\</span>
00017 <span class="preprocessor">PA_BGScrollXY(screen, bg_select, 0, 0);}</span>
00018 <span class="preprocessor"></span>
00019 
00020 <span class="preprocessor">#define INF_JUSTTILE 268435455</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#define MAX_TILES 1008</span>
00022 <span class="preprocessor"></span>
00023 <span class="keywordtype">void</span> PA_InfTilesScrollX(u8 screen, u8 bg_select, s32 x);
00024 <span class="keywordtype">void</span> PA_InfTilesScrollY(u8 screen, u8 bg_select, s32 y);
00025 <span class="keywordtype">void</span> PA_InfLargeScrollXN(u8 screen, u8 bg_select, s32 x);
00026 <span class="keywordtype">void</span> PA_InfLargeScrollYN(u8 screen, u8 bg_select, s32 y);
00027 <span class="keywordtype">void</span> PA_LargeScrollXN(u8 screen, u8 bg_select, s32 x);
00028 <span class="keywordtype">void</span> PA_LargeScrollYN(u8 screen, u8 bg_select, s32 y);
00029 
00030 
00031 
00032 
<a name="l00082"></a><a class="code" href="group___bg_large_map.html#ga11">00082</a> <span class="preprocessor">#define PA_LoadLargeBg(screen, bg_select, bg_tiles, bg_map, color_mode, lx, ly) {\</span>
00083 <span class="preprocessor">PA_BgInfo[screen][bg_select].NTiles = SIZEOF_16BIT(bg_tiles)&gt;&gt;5;\</span>
00084 <span class="preprocessor">if (PA_BgInfo[screen][bg_select].NTiles &lt; MAX_TILES) {PA_LoadSimpleBg(screen, bg_select, bg_tiles, Blank, BG_512X256, 0, color_mode);}\</span>
00085 <span class="preprocessor">else{PA_LoadTileEngine(screen, bg_select, (void*)bg_tiles);}\</span>
00086 <span class="preprocessor">PA_InitLargeBg(screen, bg_select, lx, ly, (void*)bg_map);}</span>
00087 <span class="preprocessor"></span>
00088 
00089 
00090 
00091 
00092 
<a name="l00108"></a><a class="code" href="group___bg_large_map.html#ga12">00108</a> <span class="preprocessor">#define PA_LoadPAGfxLargeBg(screen, bg_number, bg_name){\</span>
00109 <span class="preprocessor">       PA_LoadBgPal(screen, bg_number, (void*)bg_name##_Pal); \</span>
00110 <span class="preprocessor">       PA_LoadLargeBg(screen, bg_number, bg_name##_Tiles, bg_name##_Map, 1, (bg_name##_Info[1]) &gt;&gt; 3, (bg_name##_Info[2]) &gt;&gt; 3);}</span>
00111 <span class="preprocessor"></span>
00112 
00113 
<a name="l00144"></a><a class="code" href="group___bg_large_map.html#ga13">00144</a> <span class="preprocessor">#define PA_LoadLargeBgEx(screen, bg_select, bg_tiles, tile_size, bg_map, color_mode, lx, ly) {\</span>
00145 <span class="preprocessor">PA_BgInfo[screen][bg_select].NTiles = SIZEOF_16BIT(bg_tiles)&gt;&gt;5;\</span>
00146 <span class="preprocessor">if (PA_BgInfo[screen][bg_select].NTiles &lt; MAX_TILES) {PA_LoadBg(screen, bg_select, bg_tiles, tile_size, Blank, BG_512X256, 0, color_mode);}\</span>
00147 <span class="preprocessor">else{PA_LoadTileEngine(screen, bg_select, bg_tiles);}\</span>
00148 <span class="preprocessor">PA_InitLargeBg(screen, bg_select, lx, ly, (void*)bg_map);}</span>
00149 <span class="preprocessor"></span>
00150 
00151 
00152 
<a name="l00169"></a><a class="code" href="group___bg_large_map.html#ga0">00169</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga0">PA_InfLargeScrollX</a>(u8 screen, u8 bg_select, s32 x){ <span class="comment">// Autoselect</span>
00170        <span class="keywordflow">if</span> (PA_BgInfo[screen][bg_select].NTiles &lt; MAX_TILES) PA_InfLargeScrollXN(screen, bg_select, x);
00171        <span class="keywordflow">else</span> PA_InfTilesScrollX(screen, bg_select, x);
00172 }
00173 
<a name="l00189"></a><a class="code" href="group___bg_large_map.html#ga1">00189</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga1">PA_InfLargeScrollY</a>(u8 screen, u8 bg_select, s32 y){ <span class="comment">// Autoselect</span>
00190        <span class="keywordflow">if</span> (PA_BgInfo[screen][bg_select].NTiles &lt; MAX_TILES) PA_InfLargeScrollYN(screen, bg_select, y);
00191        <span class="keywordflow">else</span> PA_InfTilesScrollY(screen, bg_select, y);
00192 }
00193 
00194 
<a name="l00213"></a><a class="code" href="group___bg_large_map.html#ga2">00213</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga2">PA_InfLargeScrollXY</a>(u8 screen, u8 bg_select, s32 x, s32 y){
00214        <a class="code" href="group___bg_large_map.html#ga0">PA_InfLargeScrollX</a>(screen, bg_select, x);
00215        <a class="code" href="group___bg_large_map.html#ga1">PA_InfLargeScrollY</a>(screen, bg_select, y);
00216 }
00217 
<a name="l00233"></a><a class="code" href="group___bg_large_map.html#ga3">00233</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga3">PA_LargeScrollX</a>(u8 screen, u8 bg_select, s32 x){ <span class="comment">// Autoselect</span>
00234        <span class="keywordflow">if</span> (PA_BgInfo[screen][bg_select].NTiles &lt; MAX_TILES) PA_LargeScrollXN(screen, bg_select, x);
00235        <span class="keywordflow">else</span> PA_InfTilesScrollX(screen, bg_select, x);
00236 }
00237 
<a name="l00253"></a><a class="code" href="group___bg_large_map.html#ga4">00253</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga4">PA_LargeScrollY</a>(u8 screen, u8 bg_select, s32 y){ <span class="comment">// Autoselect</span>
00254        <span class="keywordflow">if</span> (PA_BgInfo[screen][bg_select].NTiles &lt; MAX_TILES) PA_LargeScrollYN(screen, bg_select, y);
00255        <span class="keywordflow">else</span> PA_InfTilesScrollY(screen, bg_select, y);
00256 }
00257 
00258 
<a name="l00277"></a><a class="code" href="group___bg_large_map.html#ga5">00277</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga5">PA_LargeScrollXY</a>(u8 screen, u8 bg_select, s32 x, s32 y){
00278        <a class="code" href="group___bg_large_map.html#ga3">PA_LargeScrollX</a>(screen, bg_select, x);
00279        <a class="code" href="group___bg_large_map.html#ga4">PA_LargeScrollY</a>(screen, bg_select, y);
00280 }
00281 
00282 
00283 
<a name="l00305"></a><a class="code" href="group___bg_large_map.html#ga6">00305</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga6">PA_InitParallaxX</a>(u8 screen, s32 bg0, s32 bg1, s32 bg2, s32 bg3) {
00306         PA_parallaxX[screen][0] = bg0;
00307         PA_parallaxX[screen][1] = bg1;
00308         PA_parallaxX[screen][2] = bg2;
00309         PA_parallaxX[screen][3] = bg3;
00310 }
00311 
<a name="l00333"></a><a class="code" href="group___bg_large_map.html#ga7">00333</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga7">PA_InitParallaxY</a>(u8 screen, s32 bg0, s32 bg1, s32 bg2, s32 bg3) {
00334         PA_parallaxY[screen][0] = bg0;
00335         PA_parallaxY[screen][1] = bg1;
00336         PA_parallaxY[screen][2] = bg2;
00337         PA_parallaxY[screen][3] = bg3;
00338 }
00339 
00340 
00341 
<a name="l00354"></a><a class="code" href="group___bg_large_map.html#ga8">00354</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga8">PA_ParallaxScrollX</a>(u8 screen, s32 x){
00355 u8 i;
00356        <span class="keywordflow">for</span>(i = 0; i &lt; 4; i++) {
00357               <span class="keywordflow">if</span> (PA_parallaxX[screen][i])  {
00358                      <span class="keywordflow">if</span>(scrollpos[screen][i].infscroll) <a class="code" href="group___bg_large_map.html#ga0">PA_InfLargeScrollX</a>(screen, i, (PA_parallaxX[screen][i] * x) &gt;&gt; 8); <span class="comment">// Si bg en scrolling infini</span>
00359                      <span class="keywordflow">else</span> <a class="code" href="group___bg_tiles.html#ga25">PA_BGScrollX</a>(screen, i, (PA_parallaxX[screen][i] * x) &gt;&gt; 8); <span class="comment">// Sinon scrolling normal</span>
00360               }
00361        }
00362 }
00363 
00364 
<a name="l00377"></a><a class="code" href="group___bg_large_map.html#ga9">00377</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga9">PA_ParallaxScrollY</a>(u8 screen, s32 y){
00378 u8 i;
00379        <span class="keywordflow">for</span>(i = 0; i &lt; 4; i++) {
00380               <span class="keywordflow">if</span> (PA_parallaxY[screen][i])  {
00381                      <span class="keywordflow">if</span>(scrollpos[screen][i].infscroll) <a class="code" href="group___bg_large_map.html#ga1">PA_InfLargeScrollY</a>(screen, i, (PA_parallaxY[screen][i] * y) &gt;&gt; 8); <span class="comment">// Si bg en scrolling infini</span>
00382                      <span class="keywordflow">else</span> <a class="code" href="group___bg_tiles.html#ga26">PA_BGScrollY</a>(screen, i, (PA_parallaxY[screen][i] * y) &gt;&gt; 8); <span class="comment">// Sinon scrolling normal</span>
00383               }
00384        }
00385 }
00386 
00387 
<a name="l00403"></a><a class="code" href="group___bg_large_map.html#ga10">00403</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bg_large_map.html#ga10">PA_ParallaxScrollXY</a>(u8 screen, s32 x, s32 y){
00404        <a class="code" href="group___bg_large_map.html#ga8">PA_ParallaxScrollX</a>(screen, x);
00405        <a class="code" href="group___bg_large_map.html#ga9">PA_ParallaxScrollY</a>(screen, y);
00406 }
00407 
00408  <span class="comment">// end of BgLargeMap</span>
00410 
00411 
00412 
00413 <span class="comment">// Pas utilisé en direct par le programmaeur</span>
00414 <span class="keywordtype">void</span> PA_InitLargeBg(u8 screen, u8 bg_select, s32 lx, s32 ly, <span class="keywordtype">void</span>* bg_map);
00415 
00416 
00417 
00418 <span class="preprocessor">#endif</span>
00419 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Généré le Sun Sep 17 18:20:40 2006 pour PAlib par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
