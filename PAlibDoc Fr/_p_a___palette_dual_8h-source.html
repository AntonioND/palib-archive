<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PAlib:  Fichier source de PA_PaletteDual.h</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Généré par Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Page&nbsp;principale</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">Liste&nbsp;des&nbsp;fichiers</a> | <a class="qindex" href="globals.html">Portée&nbsp;globale</a>  | <span class="search">Rechercher&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>PA_PaletteDual.h</h1><a href="_p_a___palette_dual_8h.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _PA_PaletteDual</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _PA_PaletteDual</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="comment">// Left for backwards compatibility</span>
00006 <span class="preprocessor">#define PA_DualLoadSpriteExtPal(palette_number, palette) PA_DualLoadSpritePal(u8 palette_number, void* palette)</span>
00007 <span class="preprocessor"></span>
00008 
00015 <span class="preprocessor">#include "<a class="code" href="_p_a___palette_8h.html">PA_Palette.h</a>"</span>
00016 
00017 <span class="preprocessor">#define PAL_BG PAL_BG0</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#define PAL_SPRITE PAL_SPRITE0</span>
00019 <span class="preprocessor"></span>
00020 
<a name="l00038"></a><a class="code" href="group___palette_dual.html#ga5">00038</a> <span class="preprocessor">#define PA_DualLoadPal(palette, source)  {\</span>
00039 <span class="preprocessor">       DMA_Copy((void*)source, (void*)palette, 256, DMA_16NOW);\</span>
00040 <span class="preprocessor">       DMA_Copy((void*)(source+1024), (void*)palette, 256, DMA_16NOW);\</span>
00041 <span class="preprocessor">       if(palette == PAL_SPRITE){\</span>
00042 <span class="preprocessor">              PA_DualLoadSpriteExtPal(0, (void*)palette);\</span>
00043 <span class="preprocessor">       }\</span>
00044 <span class="preprocessor">}</span>
00045 <span class="preprocessor"></span>
00046 
00047 
00048 
<a name="l00064"></a><a class="code" href="group___palette_dual.html#ga6">00064</a> <span class="preprocessor">#define PA_DualLoadPal16(palette, n_palette, source) {\</span>
00065 <span class="preprocessor">DMA_Copy((void*)source, (void*)(palette + (n_palette &lt;&lt; 5)), 16, DMA_16NOW);\</span>
00066 <span class="preprocessor">DMA_Copy((void*)source, (void*)(palette + 1024 + (n_palette &lt;&lt; 5)), 16, DMA_16NOW);}</span>
00067 <span class="preprocessor"></span>
00068 
00069 
00070 
<a name="l00079"></a><a class="code" href="group___palette_dual.html#ga0">00079</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___palette_dual.html#ga0">PA_DualSetPalNeg</a>(u32 palette) {
00080 u16* pal = (u16*)palette;
00081 u16 i;
00082        <span class="keywordflow">for</span> (i = 0; i &lt; 256; i++) {
00083               pal[i+512] = pal[i] = ~pal[i]; <span class="comment">// On fout le négatif...</span>
00084        }
00085 }
00086 
00087 
00088 
00089 
<a name="l00101"></a><a class="code" href="group___palette_dual.html#ga1">00101</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___palette_dual.html#ga1">PA_DualSetPal16Neg</a>(u32 palette, u8 n_palette) {
00102 u16* pal = (u16*)palette;
00103 u16 i;
00104        <span class="keywordflow">for</span> (i = (n_palette &lt;&lt; 4); i &lt; ((n_palette + 1) &lt;&lt; 4); i++) {
00105               pal[i+512] = pal[i] = ~pal[i]; <span class="comment">// On fout le négatif...</span>
00106        }
00107 }
00108 
00109 
00110 
00111 
<a name="l00123"></a><a class="code" href="group___palette_dual.html#ga2">00123</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___palette_dual.html#ga2">PA_DualLoadSpritePal</a>(u8 palette_number, <span class="keywordtype">void</span>* palette){
00124        PA_LoadSpriteExtPal(0, palette_number, palette);
00125        PA_LoadSpriteExtPal(1, palette_number, palette);
00126 }
00127 
<a name="l00139"></a><a class="code" href="group___palette_dual.html#ga3">00139</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___palette_dual.html#ga3">PA_DualLoadBgPal</a>(u8 bg_number, <span class="keywordtype">void</span>* palette){
00140        <a class="code" href="group___palette.html#ga7">PA_LoadBgPal</a>(0, bg_number, palette);
00141        <a class="code" href="group___palette.html#ga7">PA_LoadBgPal</a>(1, bg_number, palette);
00142 }
00143 
00144 
00145 
00146 
<a name="l00155"></a><a class="code" href="group___palette_dual.html#ga4">00155</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___palette_dual.html#ga4">PA_DualSetBgColor</a>(u16 color){
00156        BG_PALETTE[512] = BG_PALETTE[0] = color;
00157 } 
00158 
00159  <span class="comment">// end of Palette</span>
00162 <span class="comment"></span>
00163 
00164 
00165 <span class="preprocessor">#endif</span>
00166 <span class="preprocessor"></span>
00167 
</pre></div><hr size="1"><address style="align: right;"><small>Généré le Fri Oct 6 17:35:32 2006 pour PAlib par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
