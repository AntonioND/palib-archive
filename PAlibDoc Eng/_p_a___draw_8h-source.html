<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PAlib: PA_Draw.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<h1>PA_Draw.h</h1><a href="_p_a___draw_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _PA_Buffer</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _PA_Buffer</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00006"></a>00006 <span class="preprocessor">#endif</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "PA9.h"</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="_p_a___interrupt_8h.html">PA_Interrupt.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="_p_a___palette_8h.html">PA_Palette.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="_p_a___splash_8h.html">PA_Splash.h</a>"</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include "<a class="code" href="_p_a___gif_8h.html">PA_Gif.h</a>"</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="keyword">extern</span> u8 PA_nBit[2]; <span class="comment">// 8 or 16 bit Bg</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="keyword">extern</span> u16 tempvar;
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#define PA_RGB8(r,g,b)      ((((b)&gt;&gt;3)&lt;&lt;10)|(((g)&gt;&gt;3)&lt;&lt;5)|((r)&gt;&gt;3)|(1 &lt;&lt; 15))</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="keyword">typedef</span> <span class="keyword">struct</span>{
<a name="l00030"></a>00030        u16 Id; <span class="comment">// ?</span>
<a name="l00031"></a>00031        u32 Length;
<a name="l00032"></a>00032        u16 Nothing1, Nothing2; <span class="comment">// ?</span>
<a name="l00033"></a>00033        u32 ImageStart; <span class="comment">// Offset of start of image</span>
<a name="l00034"></a>00034 } BMPHeader0;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">typedef</span> <span class="keyword">struct</span>{
<a name="l00037"></a>00037        u32 SizeofHeader; <span class="comment">// 40</span>
<a name="l00038"></a>00038        u32 Width, Height;
<a name="l00039"></a>00039        u16 Colorplanes; <span class="comment">// Usually 1</span>
<a name="l00040"></a>00040        u16 BitsperPixel; <span class="comment">//1, 2, 4, 8, 16, 24, 32</span>
<a name="l00041"></a>00041        u32 Compression;  <span class="comment">// 0 for none, 1...</span>
<a name="l00042"></a>00042        u32 SizeofData; <span class="comment">// Not reliable</span>
<a name="l00043"></a>00043        u32 WidthperMeter, HeightperMeter; <span class="comment">// Don't care</span>
<a name="l00044"></a>00044        u32 NColors, ImportantColors; <span class="comment">// Number of colors used, important colors ?</span>
<a name="l00045"></a>00045 } BMP_Headers;
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="keyword">extern</span> u16 PA_oldx[2];
<a name="l00049"></a>00049 <span class="keyword">extern</span> u16 PA_oldy[2];
<a name="l00050"></a>00050 <span class="keyword">extern</span> u8 PA_drawsize[2];
<a name="l00051"></a>00051 <span class="keyword">extern</span> u16 *PA_DrawBg[2];
<a name="l00052"></a>00052 <span class="keyword">extern</span> u32 *PA_DrawBg32[2];
<a name="l00053"></a>00053 <span class="keyword">extern</span> u8 PA_nBit[2]; <span class="comment">// 8 or 16 bit Bg</span>
<a name="l00054"></a>00054 <span class="comment">//extern PA_SCreen</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">extern</span> u16 PA_temppal[256];
<a name="l00057"></a>00057 <span class="comment">//extern s32 PA_GifSpeed;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 
<a name="l00078"></a>00078 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g101bdc810b596c3577b63c365a7b61de">PA_Init8bitBg</a>(u8 screen, u8 bg_priority);
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 
<a name="l00093"></a>00093 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g92faadf94e29044314426f32c1577776">PA_InitBig8bitBg</a>(u8 screen, u8 bg_priority);
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 
<a name="l00107"></a>00107 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g2ebdea1d22ca5990b948b4be354b86d7">PA_Init16bitBg</a>(u8 screen, u8 bg_priority);
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 
<a name="l00128"></a><a class="code" href="group___bitmap.html#g569637f4508158b45f1842482c03e82b">00128</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g569637f4508158b45f1842482c03e82b">PA_Put8bitPixel</a>(u8 screen, s16 x, s16 y, u8 color) {
<a name="l00129"></a>00129    PA_DrawBg[screen][(y &lt;&lt;7) + (x&gt;&gt;1)] &amp;= (0xff00&gt;&gt;((x&amp;1)&lt;&lt;3));
<a name="l00130"></a>00130    PA_DrawBg[screen][(y &lt;&lt;7) + (x&gt;&gt;1)] |= color&lt;&lt;((x&amp;1)&lt;&lt;3);
<a name="l00131"></a>00131 
<a name="l00132"></a>00132        <span class="comment">//s32 pos = (x &gt;&gt; 1) + (y &lt;&lt; 7);</span>
<a name="l00133"></a>00133        <span class="comment">//u16 pixel = PA_DrawBg[screen][pos];</span>
<a name="l00134"></a>00134        <span class="comment">//PA_DrawBg[screen][pos] = (color &lt;&lt; ((x&amp;1)&lt;&lt;3)) | (pixel&amp;(0xFF00&gt;&gt;((x&amp;1)&lt;&lt;3)));</span>
<a name="l00135"></a>00135        <span class="comment">/*if (x&amp;1){</span>
<a name="l00136"></a>00136 <span class="comment">              PA_DrawBg[screen][pos] = (color &lt;&lt; 8) | (pixel&amp;0x00FF);               </span>
<a name="l00137"></a>00137 <span class="comment">       }</span>
<a name="l00138"></a>00138 <span class="comment">       else {</span>
<a name="l00139"></a>00139 <span class="comment">              PA_DrawBg[screen][pos] = color | (pixel&amp;0xFF00); </span>
<a name="l00140"></a>00140 <span class="comment">       }*/</span>
<a name="l00141"></a>00141 }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 
<a name="l00163"></a><a class="code" href="group___bitmap.html#g1391e6b6585c72497bc715fe341c1617">00163</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g1391e6b6585c72497bc715fe341c1617">PA_Put2_8bitPixels</a>(u8 screen, s16 x, s16 y, u16 colors) {        PA_DrawBg[screen][(x &gt;&gt; 1) + (y &lt;&lt; 7)] = colors;
<a name="l00164"></a>00164 }
<a name="l00165"></a>00165 
<a name="l00186"></a><a class="code" href="group___bitmap.html#g6c4b2af23df5e95b2d7cada059c4acf2">00186</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g6c4b2af23df5e95b2d7cada059c4acf2">PA_PutDouble8bitPixels</a>(u8 screen, s16 x, s16 y, u8 color1, u8 color2) {
<a name="l00187"></a>00187        <a class="code" href="group___bitmap.html#g1391e6b6585c72497bc715fe341c1617">PA_Put2_8bitPixels</a>(screen, x, y, color1 + (color2 &lt;&lt; 8));             
<a name="l00188"></a>00188 }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 
<a name="l00210"></a><a class="code" href="group___bitmap.html#g96ced5eaaff925909fa569937b279d0c">00210</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g96ced5eaaff925909fa569937b279d0c">PA_Put4_8bitPixels</a>(u8 screen, s16 x, s16 y, u32 colors) {
<a name="l00211"></a>00211 
<a name="l00212"></a>00212        PA_DrawBg32[screen][(x &gt;&gt; 2) + (y &lt;&lt; 6)] = colors;
<a name="l00213"></a>00213 }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00230"></a><a class="code" href="group___bitmap.html#gdc7263337c41fc8ba0e8c97e57d31d53">00230</a> <span class="keyword">extern</span> <span class="keyword">inline</span> u8 <a class="code" href="group___bitmap.html#gdc7263337c41fc8ba0e8c97e57d31d53">PA_Get8bitPixel</a>(u8 screen, u8 x, u8 y) {
<a name="l00231"></a>00231        u16 pos =     (x &gt;&gt; 1) + (y &lt;&lt; 7);
<a name="l00232"></a>00232        <span class="keywordflow">if</span> (x&amp;1){
<a name="l00233"></a>00233               <span class="keywordflow">return</span> (PA_DrawBg[screen][pos] &gt;&gt; 8);
<a name="l00234"></a>00234        }
<a name="l00235"></a>00235        <span class="keywordflow">else</span> {
<a name="l00236"></a>00236               <span class="keywordflow">return</span> (PA_DrawBg[screen][pos]);
<a name="l00237"></a>00237        }
<a name="l00238"></a>00238 }
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 
<a name="l00260"></a><a class="code" href="group___bitmap.html#gaa48e29b80f91c51f4e06229328ce278">00260</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gaa48e29b80f91c51f4e06229328ce278">PA_Put16bitPixel</a>(u8 screen, s16 x, s16 y, u16 color) {
<a name="l00261"></a>00261        PA_DrawBg[screen][x + (y &lt;&lt; 8)] = color;
<a name="l00262"></a>00262 }
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00279"></a><a class="code" href="group___bitmap.html#g08db959e19ae99e0eca1322472774b21">00279</a> <span class="preprocessor">#define PA_Get16bitPixel(screen, x, y) PA_DrawBg[screen][(x) + ((y) &lt;&lt; 8)]</span>
<a name="l00280"></a>00280 <span class="preprocessor"></span>
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 
<a name="l00285"></a>00285 
<a name="l00309"></a>00309 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g0ca49dc39f4d9a924efd213d55cb045d">PA_Draw8bitLine</a>(u8 screen, u16 x1, u16 y1, u16 x2, u16 y2, u8 color);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 
<a name="l00338"></a>00338 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gec9fceb64822780a458e3d68a1eec930">PA_Draw16bitLine</a>(u8 screen, u16 x1, u16 y1, u16 x2, u16 y2, u16 color);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 
<a name="l00368"></a>00368 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gd618676e55e514647e2dd01c669b66e7">PA_Draw16bitLineEx</a>(u8 screen, s16 basex, s16 basey, s16 endx, s16 endy, u16 color, s8 size);
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 
<a name="l00397"></a>00397 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#ge9f5ad03bb955853e3c44fe4aa260544">PA_Draw8bitLineEx</a>(u8 screen, s16 basex, s16 basey, s16 endx, s16 endy, u8 color, s8 size);
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 
<a name="l00424"></a>00424 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#ged5dfd5e26f3c9a09153f1fa9b63c8bb">PA_Draw16bitRect</a>(u8 screen, s16 basex, s16 basey, s16 endx, s16 endy, u16 color);
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 
<a name="l00438"></a>00438 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#ga80029aa4a46b8fc7a484f7f51b7b2a4">PA_8bitDraw</a>(u8 screen, u8 color);
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00452"></a>00452 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gf74e162d9ae8c42ceba1becd9b993ba4">PA_16bitDraw</a>(u8 screen, u16 color);
<a name="l00453"></a>00453 
<a name="l00454"></a>00454 
<a name="l00466"></a><a class="code" href="group___bitmap.html#g43f4fb595546c0cdbed84c855e7bbc10">00466</a> <span class="preprocessor">#define PA_SetDrawSize(screen, draw_size) PA_drawsize[screen] = draw_size;</span>
<a name="l00467"></a>00467 <span class="preprocessor"></span>
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 
<a name="l00483"></a><a class="code" href="group___bitmap.html#gd213e7797691843d488a14cc908d8c9d">00483</a> <span class="preprocessor">#define PA_Load8bitBitmap(screen, bitmap) DMA_Copy(bitmap, (void*)PA_DrawBg[screen], 256*96, DMA_16NOW)</span>
<a name="l00484"></a>00484 <span class="preprocessor"></span>
<a name="l00496"></a><a class="code" href="group___bitmap.html#g75e5d7d09e8b16570b64147a3d15c682">00496</a> <span class="preprocessor">#define PA_Load16bitBitmap(screen, bitmap) {u32 PA_temp; \</span>
<a name="l00497"></a>00497 <span class="preprocessor">for (PA_temp = 0; PA_temp &lt; 256*192; PA_temp++)\</span>
<a name="l00498"></a>00498 <span class="preprocessor">PA_DrawBg[screen][PA_temp] = bitmap[PA_temp] | (1 &lt;&lt; 15);}</span>
<a name="l00499"></a>00499 <span class="preprocessor"></span>
<a name="l00500"></a>00500 
<a name="l00509"></a><a class="code" href="group___bitmap.html#g8a7588f63b80c14a31d008498cea5175">00509</a> <span class="preprocessor">#define PA_Clear8bitBg(screen) DMA_Copy(Blank, (void*)PA_DrawBg[screen], 256*96, DMA_16NOW);</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span>
<a name="l00519"></a><a class="code" href="group___bitmap.html#g47a2f38b7773099498ad06ed85daa652">00519</a> <span class="preprocessor">#define PA_Clear16bitBg(screen) DMA_Copy(Blank, (void*)PA_DrawBg[screen], 256*192, DMA_16NOW)</span>
<a name="l00520"></a>00520 <span class="preprocessor"></span>
<a name="l00521"></a>00521 
<a name="l00533"></a><a class="code" href="group___bitmap.html#gfc528f54e5e7c8a75bf76f30331b49e7">00533</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gfc528f54e5e7c8a75bf76f30331b49e7">PA_LoadJpeg</a>(u8 screen, <span class="keywordtype">void</span> *jpeg) {
<a name="l00534"></a>00534        REG_IME = 0x00;
<a name="l00535"></a>00535        JPEG_DecompressImage((u8*)jpeg, PA_DrawBg[screen], 256, 192);
<a name="l00536"></a>00536        REG_IME = 0x01;      
<a name="l00537"></a>00537 }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00561"></a>00561 <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gfd19885bd66bf748a64f89a1d64aae11">PA_LoadBmpToBuffer</a>(u16 *Buffer, s16 x, s16 y, <span class="keywordtype">void</span> *bmp, s16 SWidth);
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 
<a name="l00581"></a><a class="code" href="group___bitmap.html#gd759cbd1a20d2f9e1bfd8d2693315854">00581</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gd759cbd1a20d2f9e1bfd8d2693315854">PA_LoadBmpEx</a>(u8 screen, s16 x, s16 y, <span class="keywordtype">void</span> *bmp){
<a name="l00582"></a>00582 <a class="code" href="group___bitmap.html#gfd19885bd66bf748a64f89a1d64aae11">PA_LoadBmpToBuffer</a>(PA_DrawBg[screen], x, y, bmp, 256);
<a name="l00583"></a>00583 }
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 
<a name="l00598"></a><a class="code" href="group___bitmap.html#gcdef635157dfd7731c3af75ac88a1a52">00598</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#gcdef635157dfd7731c3af75ac88a1a52">PA_LoadBmp</a>(u8 screen, <span class="keywordtype">void</span> *bmp){
<a name="l00599"></a>00599        <a class="code" href="group___bitmap.html#gd759cbd1a20d2f9e1bfd8d2693315854">PA_LoadBmpEx</a>(screen, 0, 0, bmp);
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 
<a name="l00604"></a>00604 
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 <span class="comment">/* // Les différentes fonctions images...</span>
<a name="l00608"></a>00608 <span class="comment">extern inline void PA_LoadJpeg(u8 screen, void *jpeg)</span>
<a name="l00609"></a>00609 <span class="comment">void PA_LoadBmp(u8 screen, s16 x, s16 y, void *bmp);*/</span>
<a name="l00610"></a>00610 
<a name="l00611"></a>00611 
<a name="l00623"></a><a class="code" href="group___bitmap.html#g9ab58a7232e37ad8e9adc37f1e4b3e43">00623</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group___bitmap.html#g9ab58a7232e37ad8e9adc37f1e4b3e43">PA_LoadFSImage</a>(u8 screen, s16 FSImage){
<a name="l00624"></a>00624        <span class="keywordflow">if</span> (<a class="code" href="group___text.html#g2e26b14a584be4c7c7628076985aa3e6">PA_CompareText</a>(PA_FSFile[FSImage].Ext, <span class="stringliteral">"bmp"</span>)){
<a name="l00625"></a>00625               <a class="code" href="group___bitmap.html#gcdef635157dfd7731c3af75ac88a1a52">PA_LoadBmp</a>(screen, <a class="code" href="group___p_a_f_s.html#g73bbf0c309f48942e13bc4343c6dcac7">PA_PAFSFile</a>(FSImage));
<a name="l00626"></a>00626        }
<a name="l00627"></a>00627        <span class="keywordflow">if</span> (<a class="code" href="group___text.html#g2e26b14a584be4c7c7628076985aa3e6">PA_CompareText</a>(PA_FSFile[FSImage].Ext, <span class="stringliteral">"jpg"</span>)){ 
<a name="l00628"></a>00628               <a class="code" href="group___bitmap.html#gfc528f54e5e7c8a75bf76f30331b49e7">PA_LoadJpeg</a>(screen, <a class="code" href="group___p_a_f_s.html#g73bbf0c309f48942e13bc4343c6dcac7">PA_PAFSFile</a>(FSImage));
<a name="l00629"></a>00629        }      
<a name="l00630"></a>00630        <span class="keywordflow">if</span> (<a class="code" href="group___text.html#g2e26b14a584be4c7c7628076985aa3e6">PA_CompareText</a>(PA_FSFile[FSImage].Ext, <span class="stringliteral">"gif"</span>)){ 
<a name="l00631"></a>00631               <a class="code" href="group___gif.html#g97887545f2b1bed6bde4c394e4c936fd">PA_LoadGif</a>(screen, <a class="code" href="group___p_a_f_s.html#g73bbf0c309f48942e13bc4343c6dcac7">PA_PAFSFile</a>(FSImage));
<a name="l00632"></a>00632        }             
<a name="l00633"></a>00633 }
<a name="l00634"></a>00634 
<a name="l00635"></a>00635 
<a name="l00636"></a>00636 
<a name="l00637"></a>00637 
<a name="l00638"></a>00638 <span class="comment">/*</span>
<a name="l00639"></a>00639 <span class="comment">extern inline void PA_LoadGBFSImage(u8 screen, s16 GBFSImage){</span>
<a name="l00640"></a>00640 <span class="comment">       if (PA_CompareText(PA_GBFSfile[GBFSImage].Ext, "bmp")){</span>
<a name="l00641"></a>00641 <span class="comment">              PA_LoadBmp(screen, PA_GBFSfile[GBFSImage].File);</span>
<a name="l00642"></a>00642 <span class="comment">       }</span>
<a name="l00643"></a>00643 <span class="comment">       if (PA_CompareText(PA_GBFSfile[GBFSImage].Ext, "jpg")){ </span>
<a name="l00644"></a>00644 <span class="comment">              PA_LoadJpeg(screen, PA_GBFSfile[GBFSImage].File);</span>
<a name="l00645"></a>00645 <span class="comment">       }      </span>
<a name="l00646"></a>00646 <span class="comment">       if (PA_CompareText(PA_GBFSfile[GBFSImage].Ext, "gif")){ </span>
<a name="l00647"></a>00647 <span class="comment">              PA_LoadGif(screen, PA_GBFSfile[GBFSImage].File);</span>
<a name="l00648"></a>00648 <span class="comment">       }             </span>
<a name="l00649"></a>00649 <span class="comment">}</span>
<a name="l00650"></a>00650 <span class="comment">*/</span>
<a name="l00651"></a>00651 <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> PA_LoadGBFSImageToBuffer(<span class="keywordtype">void</span> *Buffer, s16 GBFSImage, s16 Width){
<a name="l00652"></a>00652        <span class="keywordflow">if</span> (<a class="code" href="group___text.html#g2e26b14a584be4c7c7628076985aa3e6">PA_CompareText</a>(PA_GBFSfile[GBFSImage].Ext, <span class="stringliteral">"bmp"</span>)){
<a name="l00653"></a>00653               <a class="code" href="group___bitmap.html#gfd19885bd66bf748a64f89a1d64aae11">PA_LoadBmpToBuffer</a>((u16*)Buffer, 0, 0, (u16*)PA_GBFSfile[GBFSImage].File, Width);
<a name="l00654"></a>00654        }
<a name="l00655"></a>00655        <span class="comment">/*if (PA_CompareText(PA_GBFSfile[GBFSImage].Ext, "jpg")){ </span>
<a name="l00656"></a>00656 <span class="comment">              PA_LoadJpeg(screen, PA_GBFSfile[GBFSImage].File);</span>
<a name="l00657"></a>00657 <span class="comment">       }      */</span>
<a name="l00658"></a>00658        <span class="keywordflow">if</span> (<a class="code" href="group___text.html#g2e26b14a584be4c7c7628076985aa3e6">PA_CompareText</a>(PA_GBFSfile[GBFSImage].Ext, <span class="stringliteral">"gif"</span>)){ 
<a name="l00659"></a>00659               DecodeGif((<span class="keyword">const</span> u8*)PA_GBFSfile[GBFSImage].File, (u8*)Buffer, (u16*)0x05000000, 1, Width);
<a name="l00660"></a>00660        }             
<a name="l00661"></a>00661 }
<a name="l00662"></a>00662 
<a name="l00663"></a>00663 
<a name="l00664"></a>00664 
<a name="l00673"></a><a class="code" href="group___bitmap.html#g3700bd63a242db177e903338f8383612">00673</a> <span class="keyword">extern</span> <span class="keyword">inline</span> u16 <a class="code" href="group___bitmap.html#g3700bd63a242db177e903338f8383612">PA_GetBmpWidth</a>(<span class="keywordtype">void</span> *bmp){
<a name="l00674"></a>00674        u8 *temp = (u8*)bmp;
<a name="l00675"></a>00675        BMP_Headers *Bmpinfo = (BMP_Headers*)(temp+14);
<a name="l00676"></a>00676        <span class="keywordflow">return</span> Bmpinfo-&gt;Width;
<a name="l00677"></a>00677 }
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 
<a name="l00680"></a>00680 
<a name="l00689"></a><a class="code" href="group___bitmap.html#g74c83cdc5b81d4162da823911571a4d2">00689</a> <span class="keyword">extern</span> <span class="keyword">inline</span> u16 <a class="code" href="group___bitmap.html#g74c83cdc5b81d4162da823911571a4d2">PA_GetBmpHeight</a>(<span class="keywordtype">void</span> *bmp){
<a name="l00690"></a>00690        u8 *temp = (u8*)bmp;
<a name="l00691"></a>00691        BMP_Headers *Bmpinfo = (BMP_Headers*)(temp+14);
<a name="l00692"></a>00692        <span class="keywordflow">return</span> Bmpinfo-&gt;Height;
<a name="l00693"></a>00693 } <span class="comment">// end of Draw</span>
<a name="l00695"></a>00695 
<a name="l00696"></a>00696 
<a name="l00697"></a>00697 <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> PA_8bit8x8Image(u8 screen, u16 basex, u16 basey, u8* data){
<a name="l00698"></a>00698 s16 x, y;
<a name="l00699"></a>00699 
<a name="l00700"></a>00700 <span class="keywordflow">for</span> (x = 0; x &lt; 8; x++)
<a name="l00701"></a>00701        <span class="keywordflow">for</span> (y = 0; y &lt; 8; y++)
<a name="l00702"></a>00702               <a class="code" href="group___bitmap.html#g569637f4508158b45f1842482c03e82b">PA_Put8bitPixel</a>(screen, x + basex, y + basey, data[x + (y &lt;&lt; 3)]);
<a name="l00703"></a>00703 }
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 <span class="comment">/*</span>
<a name="l00706"></a>00706 <span class="comment">extern inline void PA_DrawImage(u8 screen, s16 x, s16 y, s16 lx, s16 ly, u8* data){</span>
<a name="l00707"></a>00707 <span class="comment">s16 i, j;</span>
<a name="l00708"></a>00708 <span class="comment">u16* data2 = (u16*)data;</span>
<a name="l00709"></a>00709 <span class="comment"></span>
<a name="l00710"></a>00710 <span class="comment">if (x&amp;1){ // Premier pixel à mettre tout seul peut-etre</span>
<a name="l00711"></a>00711 <span class="comment">       for (j = 0; j &lt; ly; j++) PA_Put8bitPixel(screen, x, j + y, data[0]);</span>
<a name="l00712"></a>00712 <span class="comment">       x++;</span>
<a name="l00713"></a>00713 <span class="comment">       data2 = (u16*)(data + 1);</span>
<a name="l00714"></a>00714 <span class="comment">}</span>
<a name="l00715"></a>00715 <span class="comment"></span>
<a name="l00716"></a>00716 <span class="comment">i = 0;</span>
<a name="l00717"></a>00717 <span class="comment">// Tant qu'il reste au moins 2 pixels à mettre, on fait 2 par 2</span>
<a name="l00718"></a>00718 <span class="comment">while(i &lt; (lx-2)){</span>
<a name="l00719"></a>00719 <span class="comment">       for (j = 0; j &lt; ly; j++) {</span>
<a name="l00720"></a>00720 <span class="comment">              PA_PutDouble8bitPixels(screen, i + x, j + y, data2[(i &gt;&gt; 1) + (j*lx)]);</span>
<a name="l00721"></a>00721 <span class="comment">       }</span>
<a name="l00722"></a>00722 <span class="comment">       i+=2;</span>
<a name="l00723"></a>00723 <span class="comment">}</span>
<a name="l00724"></a>00724 <span class="comment"></span>
<a name="l00725"></a>00725 <span class="comment">if (!((i + x)&amp;1)){ // Dernier pixel à mettre tout seul peut-etre</span>
<a name="l00726"></a>00726 <span class="comment">       for (j = 0; j &lt; ly; j++) PA_Put8bitPixel(screen, i + x, j + y, data2[(i &gt;&gt; 1) + (j*lx)]&amp;255);</span>
<a name="l00727"></a>00727 <span class="comment">}</span>
<a name="l00728"></a>00728 <span class="comment"></span>
<a name="l00729"></a>00729 <span class="comment">}</span>
<a name="l00730"></a>00730 <span class="comment">*/</span>
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 
<a name="l00733"></a>00733 
<a name="l00734"></a>00734 
<a name="l00735"></a>00735 <span class="comment">/*</span>
<a name="l00744"></a>00744 <span class="comment">extern inline void PA_SetGifSpeed(s32 NVBLs){</span>
<a name="l00745"></a>00745 <span class="comment">       PA_GifSpeed = NVBLs;</span>
<a name="l00746"></a>00746 <span class="comment">}*/</span>
<a name="l00747"></a>00747 
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 
<a name="l00750"></a>00750 
<a name="l00751"></a>00751 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00752"></a>00752 <span class="preprocessor"></span>}
<a name="l00753"></a>00753 <span class="preprocessor">#endif</span>
<a name="l00754"></a>00754 <span class="preprocessor"></span>
<a name="l00755"></a>00755 
<a name="l00756"></a>00756 
<a name="l00757"></a>00757 
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 <span class="preprocessor">#endif</span>
<a name="l00763"></a>00763 <span class="preprocessor"></span>
<a name="l00764"></a>00764 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Jan 30 23:00:22 2007 for PAlib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
