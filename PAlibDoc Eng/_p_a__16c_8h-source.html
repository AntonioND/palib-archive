<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PAlib: PA_16c.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>PA_16c.h</h1><a href="_p_a__16c_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _PA_16C</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _PA_16C</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#ifdef __cplusplus</span>
00005 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00006 <span class="preprocessor">#endif</span>
00007 <span class="preprocessor"></span>
00014 <span class="preprocessor">#include "PA9.h"</span>
00015 
00016 <span class="preprocessor">#include "<a class="code" href="_p_a___palette_8h.html">PA_Palette.h</a>"</span>
00017 
00018 
00019 <span class="comment">// Pointers...</span>
00020 <span class="keyword">extern</span> u16 *PA_Draw16[2];
00021 <span class="keyword">extern</span> u32 *PA_Draw1632[2];
00022 
00023 <span class="keyword">extern</span> u32 Blank[130000&gt;&gt;2];
00024 
00025 <span class="keyword">typedef</span> <span class="keyword">struct</span>{
00026        s32 NLetters;
00027        <span class="keyword">struct</span>{
00028               s16 X, X2, Y;
00029        }Letter[2048];
00030 } LetterPos16c;
00031 <span class="keyword">extern</span> LetterPos16c PA_16cLetterPos;
00032 
00033 
00034 
00035 <span class="preprocessor">#define PA_LoadPal16c(palette, source)   DMA_Copy(source, (void*)palette, 16, DMA_16NOW);</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#define PA_16cPos(x, y) (((x&gt;&gt;3)*26*8) + y + 8)</span>
00037 <span class="preprocessor"></span>
00038        <span class="keyword">extern</span> <span class="keyword">const</span> u8 c16_policeheight[5];
00039        <span class="keyword">extern</span> <span class="keyword">const</span> u8 c16_policesize[5][96];
00040        <span class="keyword">extern</span> u32 *c16_font[5];
00041 
00042 ALWAYSINLINE <span class="keywordtype">void</span> PA_Plot8Pixels(u8 screen, u16 pos, u16 temp, u32 color){
00043    PA_Draw1632[screen][pos] |= (color&lt;&lt;temp);
00044    PA_Draw1632[screen][pos+(26*8)] |= (color&gt;&gt;(32-temp));   
00045 }  
00046 
00047 ALWAYSINLINE <span class="keywordtype">void</span> PA_16c16X16Letter(u8 screen, s16 x, s16 y, u32 *image, u8 color){  
00048    
00049    x += 8; y += 8;
00050 
00051    u16 temp = (x&amp;7)&lt;&lt;2;
00052    u16 pos = PA_16cPos(x, y);
00053    u8 i;
00054    <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++){
00055           PA_Plot8Pixels(screen, pos, temp, image[0]*color);
00056           PA_Plot8Pixels(screen, pos+1, temp, image[1]*color);
00057           PA_Plot8Pixels(screen, pos+2, temp, image[2]*color);
00058           PA_Plot8Pixels(screen, pos+3, temp, image[3]*color);
00059           PA_Plot8Pixels(screen, pos+4, temp, image[4]*color);
00060           PA_Plot8Pixels(screen, pos+5, temp, image[5]*color);
00061           PA_Plot8Pixels(screen, pos+6, temp, image[6]*color); 
00062           PA_Plot8Pixels(screen, pos+7, temp, image[7]*color);
00063           PA_Plot8Pixels(screen, pos+8, temp, image[16]*color);
00064           PA_Plot8Pixels(screen, pos+9, temp, image[17]*color); 
00065           PA_Plot8Pixels(screen, pos+10, temp, image[18]*color);  
00066           PA_Plot8Pixels(screen, pos+11, temp, image[19]*color);
00067           PA_Plot8Pixels(screen, pos+12, temp, image[20]*color);
00068           PA_Plot8Pixels(screen, pos+13, temp, image[21]*color);
00069           PA_Plot8Pixels(screen, pos+14, temp, image[22]*color);
00070           PA_Plot8Pixels(screen, pos+15, temp, image[23]*color);                
00071           pos+=26*8;
00072           image+=8;     
00073        }
00074 }  
00075 ALWAYSINLINE <span class="keywordtype">void</span> PA_16c8X8Letter(u8 screen, s16 x, s16 y, u32 *image, u8 color){  
00076    x += 8; y += 8;
00077    u16 temp = (x&amp;7)&lt;&lt;2;
00078    u16 pos = PA_16cPos(x, y);
00079    PA_Draw1632[screen][pos] |= (image[0]&lt;&lt;temp)*color;
00080    PA_Draw1632[screen][pos+1] |= (image[1]&lt;&lt;temp)*color;
00081    PA_Draw1632[screen][pos+2] |= (image[2]&lt;&lt;temp)*color;
00082    PA_Draw1632[screen][pos+3] |= (image[3]&lt;&lt;temp)*color;
00083    PA_Draw1632[screen][pos+4] |= (image[4]&lt;&lt;temp)*color;   
00084    PA_Draw1632[screen][pos+5] |= (image[5]&lt;&lt;temp)*color;
00085    PA_Draw1632[screen][pos+6] |= (image[6]&lt;&lt;temp)*color;
00086    PA_Draw1632[screen][pos+7] |= (image[7]&lt;&lt;temp)*color;  
00087    pos += (26*8); <span class="comment">// Next columns</span>
00088    temp = 32-temp;
00089    PA_Draw1632[screen][pos] |= (image[0]&gt;&gt;temp)*color;
00090    PA_Draw1632[screen][pos+1] |= (image[1]&gt;&gt;temp)*color;
00091    PA_Draw1632[screen][pos+2] |= (image[2]&gt;&gt;temp)*color;
00092    PA_Draw1632[screen][pos+3] |= (image[3]&gt;&gt;temp)*color;
00093    PA_Draw1632[screen][pos+4] |= (image[4]&gt;&gt;temp)*color;   
00094    PA_Draw1632[screen][pos+5] |= (image[5]&gt;&gt;temp)*color;
00095    PA_Draw1632[screen][pos+6] |= (image[6]&gt;&gt;temp)*color;
00096    PA_Draw1632[screen][pos+7] |= (image[7]&gt;&gt;temp)*color;      
00097 }  
00098 
00099 
00118 <span class="keywordtype">void</span> PA_Init16cBgEx(u8 screen, u8 bg, u8 npalette);
00119 
00120 
00121 
<a name="l00133"></a><a class="code" href="group__c.html#ga1">00133</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga1">PA_Init16cBg</a>(u8 screen, u8 bg){
00134        PA_Init16cBgEx(screen, bg, 0);
00135 }
00136 
00137 
00138 
00139 
00140 
<a name="l00149"></a><a class="code" href="group__c.html#ga2">00149</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga2">PA_16cErase</a>(u8 screen){
00150        DMA_Copy(Blank, PA_Draw1632[screen], 26*8*34, DMA_32NOW)
00151 }
00152 
00153 
00154 
<a name="l00160"></a><a class="code" href="group__c.html#ga3">00160</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga3">PA_Dual16cErase</a>(<span class="keywordtype">void</span>){
00161        <a class="code" href="group__c.html#ga2">PA_16cErase</a>(0); <a class="code" href="group__c.html#ga2">PA_16cErase</a>(1);
00162 }
00163 
00164 
<a name="l00176"></a><a class="code" href="group__c.html#ga4">00176</a> <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga4">PA_InitComplete16c</a>(u8 bg, <span class="keywordtype">void</span> *Palette){
00177        PA_LoadPal16c(PAL_BG0, Palette);
00178        PA_LoadPal16c(PAL_BG1, Palette);   
00179        <a class="code" href="group__c.html#ga1">PA_Init16cBg</a>(0, bg); <a class="code" href="group__c.html#ga1">PA_Init16cBg</a>(1, bg);
00180 }
00181 
00182 
00183 
00184 
00185 
00186 s16 PA_16cText(u8 screen, s16 basex, s16 basey, s16 maxx, s16 maxy, <span class="keywordtype">char</span>* text, u8 color, u8 size, s32 limit);
00187 
00188 
00189 
00190 
00191 
<a name="l00209"></a><a class="code" href="group__c.html#ga6">00209</a> ALWAYSINLINE <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga6">PA_16c8X4</a>(u8 screen, s16 x, s16 y, u32 *image){  
00210    x += 8; y += 8;
00211    u16 temp = (x&amp;7)&lt;&lt;2;
00212    u16 pos = PA_16cPos(x, y);
00213    PA_Draw1632[screen][pos] |= (image[0]&lt;&lt;temp);
00214    PA_Draw1632[screen][pos+1] |= (image[1]&lt;&lt;temp);
00215    PA_Draw1632[screen][pos+2] |= (image[2]&lt;&lt;temp);
00216    PA_Draw1632[screen][pos+3] |= (image[3]&lt;&lt;temp);
00217    pos += (26*8); <span class="comment">// Next columns</span>
00218    temp = 32-temp;
00219    PA_Draw1632[screen][pos] |= (image[0]&gt;&gt;temp);
00220    PA_Draw1632[screen][pos+1] |= (image[1]&gt;&gt;temp);
00221    PA_Draw1632[screen][pos+2] |= (image[2]&gt;&gt;temp);
00222    PA_Draw1632[screen][pos+3] |= (image[3]&gt;&gt;temp);
00223 }  
00224 
00225 
<a name="l00243"></a><a class="code" href="group__c.html#ga7">00243</a> ALWAYSINLINE <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga7">PA_16c8X6</a>(u8 screen, s16 x, s16 y, u32 *image){  
00244    
00245    x += 8; y += 8;
00246    u16 temp = (x&amp;7)&lt;&lt;2;
00247    u16 pos = PA_16cPos(x, y);
00248    PA_Plot8Pixels(screen, pos, temp, image[0]);
00249    PA_Plot8Pixels(screen, pos+1, temp, image[1]);  
00250    PA_Plot8Pixels(screen, pos+2, temp, image[2]);   
00251    PA_Plot8Pixels(screen, pos+3, temp, image[3]); 
00252    PA_Plot8Pixels(screen, pos+4, temp, image[4]);
00253    PA_Plot8Pixels(screen, pos+5, temp, image[5]);  
00254 }  
00255 
00256 
<a name="l00274"></a><a class="code" href="group__c.html#ga8">00274</a> ALWAYSINLINE <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga8">PA_16c8X8</a>(u8 screen, s16 x, s16 y, u32 *image){  
00275    x += 8; y += 8;
00276    u16 temp = (x&amp;7)&lt;&lt;2;
00277    u16 pos = PA_16cPos(x, y);
00278    PA_Draw1632[screen][pos] |= (image[0]&lt;&lt;temp);
00279    PA_Draw1632[screen][pos+1] |= (image[1]&lt;&lt;temp);
00280    PA_Draw1632[screen][pos+2] |= (image[2]&lt;&lt;temp);
00281    PA_Draw1632[screen][pos+3] |= (image[3]&lt;&lt;temp);
00282    PA_Draw1632[screen][pos+4] |= (image[4]&lt;&lt;temp);   
00283    PA_Draw1632[screen][pos+5] |= (image[5]&lt;&lt;temp);
00284    PA_Draw1632[screen][pos+6] |= (image[6]&lt;&lt;temp);
00285    PA_Draw1632[screen][pos+7] |= (image[7]&lt;&lt;temp);  
00286    pos += (26*8); <span class="comment">// Next columns</span>
00287    temp = 32-temp;
00288    PA_Draw1632[screen][pos] |= (image[0]&gt;&gt;temp);
00289    PA_Draw1632[screen][pos+1] |= (image[1]&gt;&gt;temp);
00290    PA_Draw1632[screen][pos+2] |= (image[2]&gt;&gt;temp);
00291    PA_Draw1632[screen][pos+3] |= (image[3]&gt;&gt;temp);
00292    PA_Draw1632[screen][pos+4] |= (image[4]&gt;&gt;temp);   
00293    PA_Draw1632[screen][pos+5] |= (image[5]&gt;&gt;temp);
00294    PA_Draw1632[screen][pos+6] |= (image[6]&gt;&gt;temp);
00295    PA_Draw1632[screen][pos+7] |= (image[7]&gt;&gt;temp);      
00296 }  
00297 
00298 
00299 
00300 ALWAYSINLINE <span class="keywordtype">void</span> PA_16c16X8(u8 screen, s16 x, s16 y, u32 *image){  
00301    x += 8; y += 8;
00302    u16 temp = (x&amp;7)&lt;&lt;2;
00303    u16 pos = PA_16cPos(x, y);
00304    u8 i;
00305    <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++){
00306           PA_Plot8Pixels(screen, pos, temp, image[0]);
00307           PA_Plot8Pixels(screen, pos+1, temp, image[1]);  
00308           PA_Plot8Pixels(screen, pos+2, temp, image[2]);   
00309           PA_Plot8Pixels(screen, pos+3, temp, image[3]); 
00310           PA_Plot8Pixels(screen, pos+4, temp, image[4]);
00311           PA_Plot8Pixels(screen, pos+5, temp, image[5]);  
00312           PA_Plot8Pixels(screen, pos+6, temp, image[6]);   
00313           PA_Plot8Pixels(screen, pos+7, temp, image[7]);       
00314           pos+=26*8;
00315           image+=8;     
00316        }
00317 } 
00318 
00319 
00320 
00321 ALWAYSINLINE <span class="keywordtype">void</span> PA_16c16X12(u8 screen, s16 x, s16 y, u32 *image){  
00322    
00323    x += 8; y += 8;
00324    u16 temp = (x&amp;7)&lt;&lt;2;
00325    u16 pos = PA_16cPos(x, y);
00326    u8 i;
00327    <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++){
00328           PA_Plot8Pixels(screen, pos, temp, image[0]);
00329           PA_Plot8Pixels(screen, pos+1, temp, image[1]);  
00330           PA_Plot8Pixels(screen, pos+2, temp, image[2]);   
00331           PA_Plot8Pixels(screen, pos+3, temp, image[3]); 
00332           PA_Plot8Pixels(screen, pos+4, temp, image[4]);
00333           PA_Plot8Pixels(screen, pos+5, temp, image[5]);  
00334           PA_Plot8Pixels(screen, pos+6, temp, image[6]);   
00335           PA_Plot8Pixels(screen, pos+7, temp, image[7]);       
00336           PA_Plot8Pixels(screen, pos+8, temp, image[16]);
00337           PA_Plot8Pixels(screen, pos+9, temp, image[17]);  
00338           PA_Plot8Pixels(screen, pos+10, temp, image[18]);   
00339           PA_Plot8Pixels(screen, pos+11, temp, image[19]);        
00340           pos+=26*8;
00341           image+=8;     
00342        }
00343 } 
00344 
00345 ALWAYSINLINE <span class="keywordtype">void</span> PA_16c16X16(u8 screen, s16 x, s16 y, u32 *image){  
00346    
00347    x += 8; y += 8;
00348 
00349    u16 temp = (x&amp;7)&lt;&lt;2;
00350    u16 pos = PA_16cPos(x, y);
00351    u8 i;
00352    <span class="keywordflow">for</span> (i = 0; i &lt; 2; i++){
00353           PA_Plot8Pixels(screen, pos, temp, image[0]);
00354           PA_Plot8Pixels(screen, pos+1, temp, image[1]);  
00355           PA_Plot8Pixels(screen, pos+2, temp, image[2]);   
00356           PA_Plot8Pixels(screen, pos+3, temp, image[3]); 
00357           PA_Plot8Pixels(screen, pos+4, temp, image[4]);
00358           PA_Plot8Pixels(screen, pos+5, temp, image[5]);  
00359           PA_Plot8Pixels(screen, pos+6, temp, image[6]);   
00360           PA_Plot8Pixels(screen, pos+7, temp, image[7]);       
00361           PA_Plot8Pixels(screen, pos+8, temp, image[16]);
00362           PA_Plot8Pixels(screen, pos+9, temp, image[17]);  
00363           PA_Plot8Pixels(screen, pos+10, temp, image[18]);   
00364           PA_Plot8Pixels(screen, pos+11, temp, image[19]); 
00365           PA_Plot8Pixels(screen, pos+12, temp, image[20]);
00366           PA_Plot8Pixels(screen, pos+13, temp, image[21]);  
00367           PA_Plot8Pixels(screen, pos+14, temp, image[22]);   
00368           PA_Plot8Pixels(screen, pos+15, temp, image[23]);               
00369           pos+=26*8;
00370           image+=8;     
00371        }
00372 }  
00373 
00374 
00375 
00376 <span class="keyword">extern</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> PA_16cLetter(u8 screen, s16 x, s16 y, <span class="keywordtype">char</span> letter, u8 size, u8 color){
00377        <span class="keywordflow">if</span> (c16_policeheight[size]&lt;=8) PA_16c8X8Letter(screen, x, y, (u32*)(c16_font[size]+(letter&lt;&lt;3)), color);
00378        <span class="keywordflow">else</span> PA_16c16X16Letter(screen, x, y, (u32*)(c16_font[size]+(letter&lt;&lt;5)), color);
00379 }
00380 
00381 
00402 <span class="keywordtype">void</span> <a class="code" href="group__c.html#ga13">PA_16cClearZone</a>(u8 screen, s16 x1, s16 y1, s16 x2, s16 y2);
00403 
00404 
00405  <span class="comment">// end of 16c</span>
00407 
00408 
00409 
00410 
00411 <span class="preprocessor">#ifdef __cplusplus</span>
00412 <span class="preprocessor"></span>}
00413 <span class="preprocessor">#endif</span>
00414 <span class="preprocessor"></span>
00415 
00416 
00417 
00418 
00419 
00420 
00421 
00422 <span class="preprocessor">#endif</span>
00423 <span class="preprocessor"></span>
00424 
00425 
00426 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Oct 6 17:35:23 2006 for PAlib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
